前后端分离介绍
===
## 伪动态框架的缺点
虽然经历了jsp时代，mvc分离例如django，随着今年软件工程更加复杂，还是暴露出一些问题。
原理：django视图函数查询数据库，信息组装进html模板，最终一起返回html代码，浏览器加载出来。  
缺点：
1. 文章详情页的评论。如果有用户评论，只有'手动'刷新页面才知道。而且整个页面都需要刷新浪费加载时间, 白屏一下。
2. 文章详情页不便于维护，刚开始可能只是文章详情，后来添加了评论功能，就需要修改视图函数，把需要的数据都从数据库查出。再然后可能有文章排行。逻辑越来越多，都写在了article_view视图函数中，业务逻辑强耦合（需要工作后才能体会到），如果业务逻辑发生了变化，这个函数就大动干戈，容易出现新bug。
3. 后端需要懂html，前端需要懂django模板语法，提高学习成本。
4. 职责不清，html文件可能前后端都在改，git提交代码冲突。
5. 严重依赖后端语言。django迁移到flask, django项目很难迁移到java等。

所以想办到：
1. 页面局部刷新，自动地，更优秀的用户体验。
2. 每个视图函数逻辑单独请求。保证业务分离度，易于扩展和维护。
3. 前后端程序员工作分离，各司其职，同时开工，公司效率提高。    
4. 自由选择前端和后端技术栈。

## 最佳实践
首先并不是前后端分离就高级，会造成项目前端难度提升。一般erp、后台、小公司小项目不必要用，需要考虑团队人员组成和开发成本。
1. 原生js xml定时发请求，如果数据改变则修改dom树更新。(偏底层代码多可读性低已无人使用)
2. ajax+jquery。 jquery封装了js更易用，ajax规定了请求语法和返回值类型（XML）。（现状：过时中，但仍有大量项目基于这种方式）
3. argular react。随着nodejs兴起，前端开始工程化。后端框架只需返回json数据。前端程序员拿到json数据后再渲染。只需定义好接口，前后端同时开工。
4. 【最佳实践】vue + django。后端选用开箱即用、适合多人协作的django框架，前端选择数据双向绑定的vue框架，中介是规定好的api接口\json数据。最强大的功能，多人协作提高效率，最好的异步刷新体验。缺点学习成本略高。（目前公司的主流方案）

